{"version":3,"sources":["VideoPlayer.tsx"],"names":["volumeWidth","iconOffset","AnimatedVideoPlayer","props","animations","toggleResizeModeOnFullscreen","doubleTapTime","resizeMode","ResizeMode","CONTAIN","isFullscreen","showOnStart","showOnEnd","alwaysShowControls","paused","muted","volume","title","rate","showDuration","showTimeRemaining","showHours","onSeek","onError","onBack","onEnd","onEnterFullscreen","onExitFullscreen","onHideControls","onShowControls","onPause","onPlay","onLoad","onLoadStart","onProgress","controlTimeoutDelay","tapAnywhereToPause","videoStyle","containerStyle","seekColor","source","disableBack","disableVolume","disableFullscreen","disableTimer","disableSeekbar","disablePlayPause","disableSeekButtons","disableOverlay","navigator","rewindTime","pan","horizontal","horizontalPan","inverted","invertedPan","testID","mounted","_videoRef","controlTimeout","setTimeout","current","tapActionTimeout","_resizeMode","setResizeMode","_paused","setPaused","_muted","setMuted","_volume","setVolume","_isFullscreen","setIsFullscreen","_showTimeRemaining","setShowTimeRemaining","volumeTrackWidth","setVolumeTrackWidth","volumeFillWidth","setVolumeFillWidth","seekerFillWidth","setSeekerFillWidth","showControls","setShowControls","volumePosition","setVolumePositionState","seekerPosition","setSeekerPositionState","volumeOffset","setVolumeOffset","seekerOffset","setSeekerOffset","seekerWidth","setSeekerWidth","seeking","setSeeking","loading","setLoading","currentTime","setCurrentTime","error","setError","duration","setDuration","videoRef","toggleFullscreen","prevState","toggleControls","toggleTimer","togglePlayPause","styles","_onSeek","obj","setControlTimeout","seekTime","_onEnd","repeat","_onError","_onLoadStart","e","_onLoad","data","_onProgress","_onScreenTouch","clearTimeout","resetControlTimeout","events","onScreenTouch","constrainToSeekerMinMax","val","constrainToVolumeMinMax","setSeekerPosition","position","positionValue","setVolumePosition","clearControlTimeout","volumePanResponder","seekPanResponder","seek","COVER","percent","showControlAnimation","hideControlAnimation","newVolume","newVolumeTrackWidth","_styles","player","container","video","panHandlers","CustomAnimations","useAnimations","controlAnimationTiming","JSAnimations","VideoPlayer"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAQA;;AACA;;AAQA;;AACA;;AACA;;;;;;;;AAGA,MAAMA,WAAW,GAAG,GAApB;AACA,MAAMC,UAAU,GAAG,CAAnB;;AAEA,MAAMC,mBAAmB,GACvBC,KAD0B,IAEvB;AAAA;;AACH,QAAM;AACJC,IAAAA,UADI;AAEJC,IAAAA,4BAFI;AAGJC,IAAAA,aAAa,GAAG,GAHZ;AAIJC,IAAAA,UAAU,GAAGC,6BAAWC,OAJpB;AAKJC,IAAAA,YAAY,GAAG,KALX;AAMJC,IAAAA,WAAW,GAAG,KANV;AAOJC,IAAAA,SAAS,GAAG,KAPR;AAQJC,IAAAA,kBAAkB,GAAG,KARjB;AASJC,IAAAA,MAAM,GAAG,KATL;AAUJC,IAAAA,KAAK,GAAG,KAVJ;AAWJC,IAAAA,MAAM,GAAG,CAXL;AAYJC,IAAAA,KAAK,GAAG,EAZJ;AAaJC,IAAAA,IAAI,GAAG,CAbH;AAcJC,IAAAA,YAAY,GAAG,KAdX;AAeJC,IAAAA,iBAAiB,GAAG,KAfhB;AAgBJC,IAAAA,SAAS,GAAG,KAhBR;AAiBJC,IAAAA,MAjBI;AAkBJC,IAAAA,OAlBI;AAmBJC,IAAAA,MAnBI;AAoBJC,IAAAA,KApBI;AAqBJC,IAAAA,iBAAiB,GAAG,MAAM,CAAE,CArBxB;AAsBJC,IAAAA,gBAAgB,GAAG,MAAM,CAAE,CAtBvB;AAuBJC,IAAAA,cAAc,GAAG,MAAM,CAAE,CAvBrB;AAwBJC,IAAAA,cAAc,GAAG,MAAM,CAAE,CAxBrB;AAyBJC,IAAAA,OAzBI;AA0BJC,IAAAA,MA1BI;AA2BJC,IAAAA,MA3BI;AA4BJC,IAAAA,WA5BI;AA6BJC,IAAAA,UA7BI;AA8BJC,IAAAA,mBAAmB,GAAG,KA9BlB;AA+BJC,IAAAA,kBAAkB,GAAG,KA/BjB;AAgCJC,IAAAA,UAAU,GAAG,EAhCT;AAiCJC,IAAAA,cAAc,GAAG,EAjCb;AAkCJC,IAAAA,SAAS,GAAG,EAlCR;AAmCJC,IAAAA,MAnCI;AAoCJC,IAAAA,WAAW,GAAG,KApCV;AAqCJC,IAAAA,aAAa,GAAG,KArCZ;AAsCJC,IAAAA,iBAAiB,GAAG,KAtChB;AAuCJC,IAAAA,YAAY,GAAG,KAvCX;AAwCJC,IAAAA,cAAc,GAAG,KAxCb;AAyCJC,IAAAA,gBAAgB,GAAG,KAzCf;AA0CJC,IAAAA,kBAAkB,GAAG,KA1CjB;AA2CJC,IAAAA,cA3CI;AA4CJC,IAAAA,SA5CI;AA6CJC,IAAAA,UAAU,GAAG,EA7CT;AA8CJC,IAAAA,GAAG,EAAE;AAACC,MAAAA,UAAU,EAAEC,aAAb;AAA4BC,MAAAA,QAAQ,EAAEC;AAAtC,QAAqD,EA9CtD;AA+CJC,IAAAA;AA/CI,MAgDFrD,KAhDJ;AAkDA,QAAMsD,OAAO,GAAG,mBAAO,KAAP,CAAhB;;AACA,QAAMC,SAAS,GAAG,mBAAiB,IAAjB,CAAlB;;AACA,QAAMC,cAAc,GAAG,mBACrBC,UAAU,CAAC,MAAM,CAAE,CAAT,CADW,EAErBC,OAFF;AAGA,QAAMC,gBAAgB,GAAG,mBAA6C,IAA7C,CAAzB;AACA,QAAM,CAACC,WAAD,EAAcC,aAAd,IAA+B,qBAAqBzD,UAArB,CAArC;AACA,QAAM,CAAC0D,OAAD,EAAUC,SAAV,IAAuB,qBAAkBpD,MAAlB,CAA7B;AACA,QAAM,CAACqD,MAAD,EAASC,QAAT,IAAqB,qBAAkBrD,KAAlB,CAA3B;AACA,QAAM,CAACsD,OAAD,EAAUC,SAAV,IAAuB,qBAAiBtD,MAAjB,CAA7B;AACA,QAAM,CAACuD,aAAD,EAAgBC,eAAhB,IAAmC,qBACvC9D,YAAY,IAAIH,UAAU,KAAK,OAA/B,IAA0C,KADH,CAAzC;AAGA,QAAM,CAACkE,kBAAD,EAAqBC,oBAArB,IACJ,qBAAkBtD,iBAAlB,CADF;AAEA,QAAM,CAACuD,gBAAD,EAAmBC,mBAAnB,IAA0C,qBAAiB,CAAjB,CAAhD;AACA,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwC,qBAAiB,CAAjB,CAA9C;AACA,QAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwC,qBAAiB,CAAjB,CAA9C;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC,qBAASvE,WAAT,CAAxC;AACA,QAAM,CAACwE,cAAD,EAAiBC,sBAAjB,IAA2C,qBAAS,CAAT,CAAjD;AACA,QAAM,CAACC,cAAD,EAAiBC,sBAAjB,IAA2C,qBAAS,CAAT,CAAjD;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC,qBAAS,CAAT,CAAxC;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkC,qBAAS,CAAT,CAAxC;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC,qBAAS,CAAT,CAAtC;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB,qBAAS,KAAT,CAA9B;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwB,qBAAS,IAAT,CAA9B;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC,qBAAS,CAAT,CAAtC;AACA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoB,qBAAS,KAAT,CAA1B;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0B,qBAAS,CAAT,CAAhC;AAEA,QAAMC,QAAQ,GAAGpG,KAAK,CAACoG,QAAN,IAAkB7C,SAAnC;;AAEA,QAAM8C,gBAAgB,GAAG,MAAMhC,eAAe,CAAEiC,SAAD,IAAe,CAACA,SAAjB,CAA9C;;AACA,QAAMC,cAAc,GAAG,MACrBxB,eAAe,CAAEuB,SAAD,IAAe5F,kBAAkB,IAAI,CAAC4F,SAAvC,CADjB;;AAEA,QAAME,WAAW,GAAG,MAAMjC,oBAAoB,CAAE+B,SAAD,IAAe,CAACA,SAAjB,CAA9C;;AACA,QAAMG,eAAe,GAAG,MAAM;AAC5B1C,IAAAA,SAAS,CAAEuC,SAAD,IAAe,CAACA,SAAjB,CAAT;AACD,GAFD;;AAIA,QAAMI,MAAM,GAAG;AACbxE,IAAAA,UADa;AAEbC,IAAAA,cAAc,EAAEA;AAFH,GAAf;;AAKA,QAAMwE,OAAO,GAAIC,GAAD,IAAqB;AACnC,QAAI,CAAClB,OAAL,EAAc;AACZmB,MAAAA,iBAAiB;AAClB;;AACDd,IAAAA,cAAc,CAACa,GAAG,CAACE,QAAL,CAAd;;AAEA,QAAI,OAAO3F,MAAP,KAAkB,UAAtB,EAAkC;AAChCA,MAAAA,MAAM,CAACyF,GAAD,CAAN;AACD;AACF,GATD;;AAWA,QAAMG,MAAM,GAAG,MAAM;AACnB,QAAIjB,WAAW,GAAGI,QAAlB,EAA4B;AAC1BH,MAAAA,cAAc,CAACG,QAAD,CAAd;AACAnC,MAAAA,SAAS,CAAC,CAAC/D,KAAK,CAACgH,MAAR,CAAT;;AAEA,UAAIvG,SAAJ,EAAe;AACbsE,QAAAA,eAAe,CAAC,CAAC/E,KAAK,CAACgH,MAAR,CAAf;AACD;AACF;;AAED,QAAI,OAAO1F,KAAP,KAAiB,UAArB,EAAiC;AAC/BA,MAAAA,KAAK;AACN;AACF,GAbD;;AAeA,QAAM2F,QAAQ,GAAG,MAAM;AACrBhB,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACAJ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHD;;AAKA,WAASqB,YAAT,CAAsBC,CAAtB,EAA0C;AACxCtB,IAAAA,UAAU,CAAC,IAAD,CAAV;;AAEA,QAAI,OAAO/D,WAAP,KAAuB,UAA3B,EAAuC;AACrCA,MAAAA,WAAW,CAACqF,CAAD,CAAX;AACD;AACF;;AAED,WAASC,OAAT,CAAiBC,IAAjB,EAAmC;AACjClB,IAAAA,WAAW,CAACkB,IAAI,CAACnB,QAAN,CAAX;AACAL,IAAAA,UAAU,CAAC,KAAD,CAAV;;AAEA,QAAIf,YAAJ,EAAkB;AAChB+B,MAAAA,iBAAiB;AAClB;;AAED,QAAI,OAAOhF,MAAP,KAAkB,UAAtB,EAAkC;AAChCA,MAAAA,MAAM,CAACwF,IAAD,CAAN;AACD;AACF;;AAED,WAASC,WAAT,CAAqBD,IAArB,EAA2C;AACzC,QAAI,CAAC3B,OAAL,EAAc;AACZK,MAAAA,cAAc,CAACsB,IAAI,CAACvB,WAAN,CAAd;;AAEA,UAAI,OAAO/D,UAAP,KAAsB,UAA1B,EAAsC;AACpCA,QAAAA,UAAU,CAACsF,IAAD,CAAV;AACD;AACF;AACF;;AAED,QAAME,cAAc,GAAG,MAAM;AAC3B,QAAI5D,gBAAgB,CAACD,OAArB,EAA8B;AAC5B8D,MAAAA,YAAY,CAAC7D,gBAAgB,CAACD,OAAlB,CAAZ;AACAC,MAAAA,gBAAgB,CAACD,OAAjB,GAA2B,IAA3B;AACA2C,MAAAA,gBAAgB;;AAChB,UAAIvB,YAAJ,EAAkB;AAChB2C,QAAAA,mBAAmB;AACpB;AACF,KAPD,MAOO;AACL9D,MAAAA,gBAAgB,CAACD,OAAjB,GAA2BD,UAAU,CAAC,MAAM;AAC1C,YAAIxB,kBAAkB,IAAI6C,YAA1B,EAAwC;AACtC2B,UAAAA,eAAe;AACfgB,UAAAA,mBAAmB;AACpB,SAHD,MAGO;AACLlB,UAAAA,cAAc;AACf;;AACD5C,QAAAA,gBAAgB,CAACD,OAAjB,GAA2B,IAA3B;AACD,OARoC,EAQlCvD,aARkC,CAArC;AASD;AACF,GAnBD;;AAqBA,QAAMuH,MAAM,GAAG;AACbtG,IAAAA,OAAO,EAAEA,OAAO,IAAI6F,QADP;AAEb5F,IAAAA,MAAM,EAAGA,MAAM,IAAI,oBAAQyB,SAAR,CAFN;AAGbxB,IAAAA,KAAK,EAAEyF,MAHM;AAIbY,IAAAA,aAAa,EAAEJ,cAJF;AAKbhG,IAAAA,iBALa;AAMbC,IAAAA,gBANa;AAObE,IAAAA,cAPa;AAQbD,IAAAA,cARa;AASbK,IAAAA,WAAW,EAAEoF,YATA;AAUbnF,IAAAA,UAAU,EAAEuF,WAVC;AAWbnG,IAAAA,MAAM,EAAEwF,OAXK;AAYb9E,IAAAA,MAAM,EAAEuF,OAZK;AAabzF,IAAAA,OAba;AAcbC,IAAAA;AAda,GAAf;AAiBA,QAAMgG,uBAAuB,GAAG,wBAC9B,YAAa;AAAA,QAAZC,GAAY,uEAAN,CAAM;;AACX,QAAIA,GAAG,IAAI,CAAX,EAAc;AACZ,aAAO,CAAP;AACD,KAFD,MAEO,IAAIA,GAAG,IAAIrC,WAAX,EAAwB;AAC7B,aAAOA,WAAP;AACD;;AACD,WAAOqC,GAAP;AACD,GAR6B,EAS9B,CAACrC,WAAD,CAT8B,CAAhC;;AAYA,QAAMsC,uBAAuB,GAAG,YAAa;AAAA,QAAZD,GAAY,uEAAN,CAAM;;AAC3C,QAAIA,GAAG,IAAI,CAAX,EAAc;AACZ,aAAO,CAAP;AACD,KAFD,MAEO,IAAIA,GAAG,IAAIhI,WAAW,GAAG,CAAzB,EAA4B;AACjC,aAAOA,WAAW,GAAG,CAArB;AACD;;AACD,WAAOgI,GAAP;AACD,GAPD;;AASA,QAAME,iBAAiB,GAAG,wBACxB,YAAkB;AAAA,QAAjBC,QAAiB,uEAAN,CAAM;AAChB,UAAMC,aAAa,GAAGL,uBAAuB,CAACI,QAAD,CAA7C;AACA7C,IAAAA,sBAAsB,CAAC8C,aAAD,CAAtB;AACA1C,IAAAA,eAAe,CAAC0C,aAAD,CAAf;AACApD,IAAAA,kBAAkB,CAACoD,aAAD,CAAlB;AACD,GANuB,EAOxB,CAACL,uBAAD,CAPwB,CAA1B;;AAUA,QAAMM,iBAAiB,GAAG,YAAkB;AAAA,QAAjBF,QAAiB,uEAAN,CAAM;AAC1C,UAAMC,aAAa,GAAGH,uBAAuB,CAACE,QAAD,CAA7C;AACA/C,IAAAA,sBAAsB,CAACgD,aAAa,GAAGnI,UAAjB,CAAtB;;AAEA,QAAImI,aAAa,GAAG,CAApB,EAAuB;AACrBtD,MAAAA,kBAAkB,CAAC,CAAD,CAAlB;AACD,KAFD,MAEO;AACLA,MAAAA,kBAAkB,CAACsD,aAAD,CAAlB;AACD;AACF,GATD;;AAWA,QAAM;AAACE,IAAAA,mBAAD;AAAsBV,IAAAA,mBAAtB;AAA2CZ,IAAAA;AAA3C,MACJ,8BAAkB;AAChBrD,IAAAA,cADgB;AAEhBxB,IAAAA,mBAFgB;AAGhBsB,IAAAA,OAAO,EAAEA,OAAO,CAACI,OAHD;AAIhBoB,IAAAA,YAJgB;AAKhBC,IAAAA,eALgB;AAMhBrE,IAAAA;AANgB,GAAlB,CADF;AAUA,QAAM;AAAC0H,IAAAA,kBAAD;AAAqBC,IAAAA;AAArB,MAAyC,6BAAiB;AAC9DnC,IAAAA,QAD8D;AAE9DZ,IAAAA,YAF8D;AAG9DF,IAAAA,YAH8D;AAI9DQ,IAAAA,OAJ8D;AAK9DJ,IAAAA,WAL8D;AAM9DE,IAAAA,OAN8D;AAO9DR,IAAAA,cAP8D;AAQ9DoD,IAAAA,IAAI,EAAElC,QAAF,aAAEA,QAAF,4CAAEA,QAAQ,CAAE1C,OAAZ,sDAAE,kBAAmB4E,IARqC;AAS9DH,IAAAA,mBAT8D;AAU9DD,IAAAA,iBAV8D;AAW9DH,IAAAA,iBAX8D;AAY9DpC,IAAAA,UAZ8D;AAa9DkB,IAAAA,iBAb8D;AAc9DvF,IAAAA,KAAK,EAAEoG,MAAM,CAACpG,KAdgD;AAe9D2B,IAAAA,UAAU,EAAEC,aAfkD;AAgB9DC,IAAAA,QAAQ,EAAEC;AAhBoD,GAAjB,CAA/C;AAmBA,wBAAU,MAAM;AACd,QAAI0C,WAAW,IAAII,QAAnB,EAA6B;AAAA;;AAC3BE,MAAAA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,kCAAAA,QAAQ,CAAE1C,OAAV,0EAAmB4E,IAAnB,CAAwB,CAAxB;AACD;AACF,GAJD,EAIG,CAACxC,WAAD,EAAcI,QAAd,EAAwBE,QAAxB,CAJH;AAMA,wBAAU,MAAM;AACd,QAAIlG,4BAAJ,EAAkC;AAChC2D,MAAAA,aAAa,CAACO,aAAa,GAAG/D,6BAAWkI,KAAd,GAAsBlI,6BAAWC,OAA/C,CAAb;AACD;;AAED,QAAIgD,OAAO,CAACI,OAAZ,EAAqB;AACnB,UAAIU,aAAJ,EAAmB;AACjB,eAAOsD,MAAM,CAACnG,iBAAd,KAAoC,UAApC,IACEmG,MAAM,CAACnG,iBAAP,EADF;AAED,OAHD,MAGO;AACL,eAAOmG,MAAM,CAAClG,gBAAd,KAAmC,UAAnC,IACEkG,MAAM,CAAClG,gBAAP,EADF;AAED;AACF,KAba,CAcd;;AACD,GAfD,EAeG,CAAC4C,aAAD,EAAgBlE,4BAAhB,CAfH;AAiBA,wBAAU,MAAM;AACdmE,IAAAA,eAAe,CAAC9D,YAAD,CAAf;AACD,GAFD,EAEG,CAACA,YAAD,CAFH;AAIA,wBAAU,MAAM;AACdwD,IAAAA,SAAS,CAACpD,MAAD,CAAT;AACD,GAFD,EAEG,CAACA,MAAD,CAFH;AAIA,wBAAU,MAAM;AACd,QAAImD,OAAJ,EAAa;AACX,aAAO4D,MAAM,CAAC/F,OAAd,KAA0B,UAA1B,IAAwC+F,MAAM,CAAC/F,OAAP,EAAxC;AACD,KAFD,MAEO;AACL,aAAO+F,MAAM,CAAC9F,MAAd,KAAyB,UAAzB,IAAuC8F,MAAM,CAAC9F,MAAP,EAAvC;AACD,KALa,CAMd;;AACD,GAPD,EAOG,CAACkC,OAAD,CAPH;AASA,wBAAU,MAAM;AACd,QAAI,CAAC4B,OAAD,IAAYI,WAAZ,IAA2BI,QAA/B,EAAyC;AACvC,YAAMsC,OAAO,GAAG1C,WAAW,GAAGI,QAA9B;AACA,YAAM8B,QAAQ,GAAGxC,WAAW,GAAGgD,OAA/B;AAEAT,MAAAA,iBAAiB,CAACC,QAAD,CAAjB;AACD,KANa,CAOd;;AACD,GARD,EAQG,CAAClC,WAAD,EAAcI,QAAd,EAAwBV,WAAxB,EAAqCuC,iBAArC,CARH;AAUA,wBAAU,MAAM;AACd,QAAIjD,YAAY,IAAI,CAACc,OAArB,EAA8B;AAC5B3F,MAAAA,UAAU,CAACwI,oBAAX;AACA5B,MAAAA,iBAAiB;AACjB,aAAOa,MAAM,CAAChG,cAAd,KAAiC,UAAjC,IAA+CgG,MAAM,CAAChG,cAAP,EAA/C;AACD,KAJD,MAIO;AACLzB,MAAAA,UAAU,CAACyI,oBAAX;AACAP,MAAAA,mBAAmB;AACnB,aAAOT,MAAM,CAACjG,cAAd,KAAiC,UAAjC,IAA+CiG,MAAM,CAACjG,cAAP,EAA/C;AACD,KATa,CAUd;;AACD,GAXD,EAWG,CAACqD,YAAD,EAAec,OAAf,CAXH;AAaA,wBAAU,MAAM;AACd3B,IAAAA,QAAQ,CAACrD,KAAD,CAAR;AACD,GAFD,EAEG,CAACA,KAAD,CAFH;AAIA,wBAAU,MAAM;AACd,UAAM+H,SAAS,GAAG3D,cAAc,GAAGnF,WAAnC;;AAEA,QAAI8I,SAAS,IAAI,CAAjB,EAAoB;AAClB1E,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAFD,MAEO;AACLA,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;;AAEDE,IAAAA,SAAS,CAACwE,SAAD,CAAT;AACAtD,IAAAA,eAAe,CAACL,cAAD,CAAf;AAEA,UAAM4D,mBAAmB,GAAG/I,WAAW,GAAG6E,eAA1C;;AAEA,QAAIkE,mBAAmB,GAAG,GAA1B,EAA+B;AAC7BnE,MAAAA,mBAAmB,CAAC,GAAD,CAAnB;AACD,KAFD,MAEO;AACLA,MAAAA,mBAAmB,CAACmE,mBAAD,CAAnB;AACD;AACF,GAnBD,EAmBG,CAAClE,eAAD,EAAkBM,cAAlB,CAnBH;AAqBA,wBAAU,MAAM;AACd,UAAMgD,QAAQ,GAAGnI,WAAW,GAAGqE,OAA/B;AACAgE,IAAAA,iBAAiB,CAACF,QAAD,CAAjB;AACA3C,IAAAA,eAAe,CAAC2C,QAAD,CAAf;AACA1E,IAAAA,OAAO,CAACI,OAAR,GAAkB,IAAlB;AACA,WAAO,MAAM;AACXJ,MAAAA,OAAO,CAACI,OAAR,GAAkB,KAAlB;AACAyE,MAAAA,mBAAmB;AACpB,KAHD,CALc,CASd;AACD,GAVD,EAUG,EAVH;AAYA,sBACE,6BAAC,0BAAD;AACE,IAAA,YAAY,EAAErD,YADhB;AAEE,IAAA,eAAe,EAAE4B,MAAM,CAACvE,cAF1B;AAGE,IAAA,aAAa,EAAEuF,MAAM,CAACC,aAHxB;AAIE,IAAA,MAAM,EAAEtE;AAJV,kBAKE,6BAAC,iBAAD;AAAM,IAAA,KAAK,EAAE,CAACwF,iBAAQC,MAAR,CAAeC,SAAhB,EAA2BrC,MAAM,CAACvE,cAAlC;AAAb,kBACE,6BAAC,yBAAD,eACMnC,KADN,EAEM0H,MAFN;AAGE,IAAA,GAAG,EAAEtB,QAAQ,IAAI7C,SAHnB;AAIE,IAAA,UAAU,EAAEK,WAJd;AAKE,IAAA,MAAM,EAAEM,OALV;AAME,IAAA,MAAM,EAAEJ,OANV;AAOE,IAAA,KAAK,EAAEE,MAPT;AAQE,IAAA,IAAI,EAAEjD,IARR;AASE,IAAA,KAAK,EAAE,CAAC8H,iBAAQC,MAAR,CAAeE,KAAhB,EAAuBtC,MAAM,CAACxE,UAA9B,CATT;AAUE,IAAA,MAAM,EAAEG;AAVV,KADF,EAaGuD,OAAO,gBACN,6BAAC,kBAAD,OADM,gBAGN,yEACE,6BAAC,iBAAD;AAAO,IAAA,KAAK,EAAEI;AAAd,IADF,EAEG,CAACnD,cAAD,iBAAmB,6BAAC,mBAAD;AAAS,IAAA,UAAU,EAAE5C;AAArB,IAFtB,eAGE,6BAAC,uBAAD;AACE,IAAA,WAAW,EAAEmI,kBAAkB,CAACa,WADlC;AAEE,IAAA,UAAU,EAAEhJ,UAFd;AAGE,IAAA,WAAW,EAAEqC,WAHf;AAIE,IAAA,aAAa,EAAEC,aAJjB;AAKE,IAAA,eAAe,EAAEmC,eALnB;AAME,IAAA,gBAAgB,EAAEF,gBANpB;AAOE,IAAA,cAAc,EAAEQ,cAPlB;AAQE,IAAA,MAAM,EAAE0C,MAAM,CAACrG,MARjB;AASE,IAAA,mBAAmB,EAAEoG,mBATvB;AAUE,IAAA,YAAY,EAAE3C;AAVhB,IAHF,eAeE,6BAAC,qBAAD;AACE,IAAA,UAAU,EAAE7E,UADd;AAEE,IAAA,gBAAgB,EAAE0C,gBAFpB;AAGE,IAAA,kBAAkB,EAAEC,kBAHtB;AAIE,IAAA,MAAM,EAAEkB,OAJV;AAKE,IAAA,eAAe,EAAE2C,eALnB;AAME,IAAA,mBAAmB,EAAEgB,mBANvB;AAOE,IAAA,YAAY,EAAE3C,YAPhB;AAQE,IAAA,aAAa,EAAE;AAAA;;AAAA,aACbsB,QADa,aACbA,QADa,6CACbA,QAAQ,CAAE1C,OADG,uDACb,mBAAmB4E,IAAnB,CAAwBxC,WAAW,GAAG/C,UAAtC,CADa;AAAA,KARjB;AAWE,IAAA,cAAc,EAAE;AAAA;;AAAA,aACdqD,QADc,aACdA,QADc,6CACdA,QAAQ,CAAE1C,OADI,uDACd,mBAAmB4E,IAAnB,CAAwBxC,WAAW,GAAG/C,UAAtC,CADc;AAAA;AAXlB,IAfF,eA8BE,6BAAC,0BAAD;AACE,IAAA,UAAU,EAAE9C,UADd;AAEE,IAAA,WAAW,EAAEoI,gBAAgB,CAACY,WAFhC;AAGE,IAAA,YAAY,EAAExG,YAHhB;AAIE,IAAA,cAAc,EAAEC,cAJlB;AAKE,IAAA,SAAS,EAAExB,SALb;AAME,IAAA,YAAY,EAAEF,YANhB;AAOE,IAAA,MAAM,EAAE8C,OAPV;AAQE,IAAA,iBAAiB,EAAEQ,kBARrB;AASE,IAAA,WAAW,EAAEwB,WATf;AAUE,IAAA,QAAQ,EAAEI,QAVZ;AAWE,IAAA,SAAS,EAAE9D,SAXb;AAYE,IAAA,KAAK,EAAEtB,KAZT;AAaE,IAAA,WAAW,EAAE0F,WAbf;AAcE,IAAA,mBAAmB,EAAEiB,mBAdvB;AAeE,IAAA,eAAe,EAAE7C,eAfnB;AAgBE,IAAA,cAAc,EAAEM,cAhBlB;AAiBE,IAAA,cAAc,EAAEO,cAjBlB;AAkBE,IAAA,YAAY,EAAElF,YAlBhB;AAmBE,IAAA,iBAAiB,EAAEiC,iBAnBrB;AAoBE,IAAA,gBAAgB,EAAE6D,gBApBpB;AAqBE,IAAA,YAAY,EAAEvB;AArBhB,IA9BF,CAhBJ,CALF,CADF;AAgFD,CAjcD;;AAmcA,MAAMoE,gBAAgB,GAAG,QAIsC;AAAA,MAJrC;AACxBC,IAAAA,aADwB;AAExBC,IAAAA,sBAAsB,GAAG,GAFD;AAGxB,OAAGpJ;AAHqB,GAIqC;AAC7D,QAAMC,UAAU,GAAGkJ,aAAa,CAACC,sBAAD,CAAhC;AACA,sBAAO,6BAAC,mBAAD;AAAqB,IAAA,UAAU,EAAEnJ;AAAjC,KAAiDD,KAAjD,EAAP;AACD,CAPD;;AASA,MAAMqJ,YAAY,GAAIrJ,KAAD,IAA6B;AAChD,QAAMC,UAAU,GAAG,4BAAgBD,KAAK,CAACoJ,sBAAtB,CAAnB;AAEA,sBAAO,6BAAC,mBAAD;AAAqB,IAAA,UAAU,EAAEnJ;AAAjC,KAAiDD,KAAjD,EAAP;AACD,CAJD;;AAMO,MAAMsJ,WAAW,GAAItJ,KAAD,IAAiD;AAC1E,MAAIA,KAAJ,aAAIA,KAAJ,eAAIA,KAAK,CAAEmJ,aAAX,EAA0B;AACxB,wBAAO,6BAAC,gBAAD;AAAkB,MAAA,aAAa,EAAEnJ,KAAF,aAAEA,KAAF,uBAAEA,KAAK,CAAEmJ;AAAxC,OAA2DnJ,KAA3D,EAAP;AACD;;AAED,sBAAO,6BAAC,YAAD,EAAkBA,KAAlB,CAAP;AACD,CANM","sourcesContent":["import React, {useCallback, useState, useEffect, useRef} from 'react';\nimport {View} from 'react-native';\nimport Video, {\n  OnLoadData,\n  OnLoadStartData,\n  OnProgressData,\n  OnSeekData,\n  ResizeMode,\n  VideoRef,\n} from 'react-native-video';\nimport {useControlTimeout, useJSAnimations, usePanResponders} from './hooks';\nimport {\n  Error,\n  Loader,\n  TopControls,\n  BottomControls,\n  PlayPause,\n  Overlay,\n} from './components';\nimport {PlatformSupport} from './OSSupport';\nimport {_onBack} from './utils';\nimport {_styles} from './styles';\nimport type {VideoPlayerProps, WithRequiredProperty} from './types';\n\nconst volumeWidth = 150;\nconst iconOffset = 0;\n\nconst AnimatedVideoPlayer = (\n  props: WithRequiredProperty<VideoPlayerProps, 'animations'>,\n) => {\n  const {\n    animations,\n    toggleResizeModeOnFullscreen,\n    doubleTapTime = 130,\n    resizeMode = ResizeMode.CONTAIN,\n    isFullscreen = false,\n    showOnStart = false,\n    showOnEnd = false,\n    alwaysShowControls = false,\n    paused = false,\n    muted = false,\n    volume = 1,\n    title = '',\n    rate = 1,\n    showDuration = false,\n    showTimeRemaining = false,\n    showHours = false,\n    onSeek,\n    onError,\n    onBack,\n    onEnd,\n    onEnterFullscreen = () => {},\n    onExitFullscreen = () => {},\n    onHideControls = () => {},\n    onShowControls = () => {},\n    onPause,\n    onPlay,\n    onLoad,\n    onLoadStart,\n    onProgress,\n    controlTimeoutDelay = 15000,\n    tapAnywhereToPause = false,\n    videoStyle = {},\n    containerStyle = {},\n    seekColor = '',\n    source,\n    disableBack = false,\n    disableVolume = false,\n    disableFullscreen = false,\n    disableTimer = false,\n    disableSeekbar = false,\n    disablePlayPause = false,\n    disableSeekButtons = false,\n    disableOverlay,\n    navigator,\n    rewindTime = 15,\n    pan: {horizontal: horizontalPan, inverted: invertedPan} = {},\n    testID,\n  } = props;\n\n  const mounted = useRef(false);\n  const _videoRef = useRef<VideoRef>(null);\n  const controlTimeout = useRef<ReturnType<typeof setTimeout>>(\n    setTimeout(() => {}),\n  ).current;\n  const tapActionTimeout = useRef<ReturnType<typeof setTimeout> | null>(null);\n  const [_resizeMode, setResizeMode] = useState<ResizeMode>(resizeMode);\n  const [_paused, setPaused] = useState<boolean>(paused);\n  const [_muted, setMuted] = useState<boolean>(muted);\n  const [_volume, setVolume] = useState<number>(volume);\n  const [_isFullscreen, setIsFullscreen] = useState<boolean>(\n    isFullscreen || resizeMode === 'cover' || false,\n  );\n  const [_showTimeRemaining, setShowTimeRemaining] =\n    useState<boolean>(showTimeRemaining);\n  const [volumeTrackWidth, setVolumeTrackWidth] = useState<number>(0);\n  const [volumeFillWidth, setVolumeFillWidth] = useState<number>(0);\n  const [seekerFillWidth, setSeekerFillWidth] = useState<number>(0);\n  const [showControls, setShowControls] = useState(showOnStart);\n  const [volumePosition, setVolumePositionState] = useState(0);\n  const [seekerPosition, setSeekerPositionState] = useState(0);\n  const [volumeOffset, setVolumeOffset] = useState(0);\n  const [seekerOffset, setSeekerOffset] = useState(0);\n  const [seekerWidth, setSeekerWidth] = useState(0);\n  const [seeking, setSeeking] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [error, setError] = useState(false);\n  const [duration, setDuration] = useState(0);\n\n  const videoRef = props.videoRef || _videoRef;\n\n  const toggleFullscreen = () => setIsFullscreen((prevState) => !prevState);\n  const toggleControls = () =>\n    setShowControls((prevState) => alwaysShowControls || !prevState);\n  const toggleTimer = () => setShowTimeRemaining((prevState) => !prevState);\n  const togglePlayPause = () => {\n    setPaused((prevState) => !prevState);\n  };\n\n  const styles = {\n    videoStyle,\n    containerStyle: containerStyle,\n  };\n\n  const _onSeek = (obj: OnSeekData) => {\n    if (!seeking) {\n      setControlTimeout();\n    }\n    setCurrentTime(obj.seekTime);\n\n    if (typeof onSeek === 'function') {\n      onSeek(obj);\n    }\n  };\n\n  const _onEnd = () => {\n    if (currentTime < duration) {\n      setCurrentTime(duration);\n      setPaused(!props.repeat);\n\n      if (showOnEnd) {\n        setShowControls(!props.repeat);\n      }\n    }\n\n    if (typeof onEnd === 'function') {\n      onEnd();\n    }\n  };\n\n  const _onError = () => {\n    setError(true);\n    setLoading(false);\n  };\n\n  function _onLoadStart(e: OnLoadStartData) {\n    setLoading(true);\n\n    if (typeof onLoadStart === 'function') {\n      onLoadStart(e);\n    }\n  }\n\n  function _onLoad(data: OnLoadData) {\n    setDuration(data.duration);\n    setLoading(false);\n\n    if (showControls) {\n      setControlTimeout();\n    }\n\n    if (typeof onLoad === 'function') {\n      onLoad(data);\n    }\n  }\n\n  function _onProgress(data: OnProgressData) {\n    if (!seeking) {\n      setCurrentTime(data.currentTime);\n\n      if (typeof onProgress === 'function') {\n        onProgress(data);\n      }\n    }\n  }\n\n  const _onScreenTouch = () => {\n    if (tapActionTimeout.current) {\n      clearTimeout(tapActionTimeout.current);\n      tapActionTimeout.current = null;\n      toggleFullscreen();\n      if (showControls) {\n        resetControlTimeout();\n      }\n    } else {\n      tapActionTimeout.current = setTimeout(() => {\n        if (tapAnywhereToPause && showControls) {\n          togglePlayPause();\n          resetControlTimeout();\n        } else {\n          toggleControls();\n        }\n        tapActionTimeout.current = null;\n      }, doubleTapTime);\n    }\n  };\n\n  const events = {\n    onError: onError || _onError,\n    onBack: (onBack || _onBack(navigator)) as () => void,\n    onEnd: _onEnd,\n    onScreenTouch: _onScreenTouch,\n    onEnterFullscreen,\n    onExitFullscreen,\n    onShowControls,\n    onHideControls,\n    onLoadStart: _onLoadStart,\n    onProgress: _onProgress,\n    onSeek: _onSeek,\n    onLoad: _onLoad,\n    onPause,\n    onPlay,\n  };\n\n  const constrainToSeekerMinMax = useCallback(\n    (val = 0) => {\n      if (val <= 0) {\n        return 0;\n      } else if (val >= seekerWidth) {\n        return seekerWidth;\n      }\n      return val;\n    },\n    [seekerWidth],\n  );\n\n  const constrainToVolumeMinMax = (val = 0) => {\n    if (val <= 0) {\n      return 0;\n    } else if (val >= volumeWidth + 9) {\n      return volumeWidth + 9;\n    }\n    return val;\n  };\n\n  const setSeekerPosition = useCallback(\n    (position = 0) => {\n      const positionValue = constrainToSeekerMinMax(position);\n      setSeekerPositionState(positionValue);\n      setSeekerOffset(positionValue);\n      setSeekerFillWidth(positionValue);\n    },\n    [constrainToSeekerMinMax],\n  );\n\n  const setVolumePosition = (position = 0) => {\n    const positionValue = constrainToVolumeMinMax(position);\n    setVolumePositionState(positionValue + iconOffset);\n\n    if (positionValue < 0) {\n      setVolumeFillWidth(0);\n    } else {\n      setVolumeFillWidth(positionValue);\n    }\n  };\n\n  const {clearControlTimeout, resetControlTimeout, setControlTimeout} =\n    useControlTimeout({\n      controlTimeout,\n      controlTimeoutDelay,\n      mounted: mounted.current,\n      showControls,\n      setShowControls,\n      alwaysShowControls,\n    });\n\n  const {volumePanResponder, seekPanResponder} = usePanResponders({\n    duration,\n    seekerOffset,\n    volumeOffset,\n    loading,\n    seekerWidth,\n    seeking,\n    seekerPosition,\n    seek: videoRef?.current?.seek,\n    clearControlTimeout,\n    setVolumePosition,\n    setSeekerPosition,\n    setSeeking,\n    setControlTimeout,\n    onEnd: events.onEnd,\n    horizontal: horizontalPan,\n    inverted: invertedPan,\n  });\n\n  useEffect(() => {\n    if (currentTime >= duration) {\n      videoRef?.current?.seek(0);\n    }\n  }, [currentTime, duration, videoRef]);\n\n  useEffect(() => {\n    if (toggleResizeModeOnFullscreen) {\n      setResizeMode(_isFullscreen ? ResizeMode.COVER : ResizeMode.CONTAIN);\n    }\n\n    if (mounted.current) {\n      if (_isFullscreen) {\n        typeof events.onEnterFullscreen === 'function' &&\n          events.onEnterFullscreen();\n      } else {\n        typeof events.onExitFullscreen === 'function' &&\n          events.onExitFullscreen();\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [_isFullscreen, toggleResizeModeOnFullscreen]);\n\n  useEffect(() => {\n    setIsFullscreen(isFullscreen);\n  }, [isFullscreen]);\n\n  useEffect(() => {\n    setPaused(paused);\n  }, [paused]);\n\n  useEffect(() => {\n    if (_paused) {\n      typeof events.onPause === 'function' && events.onPause();\n    } else {\n      typeof events.onPlay === 'function' && events.onPlay();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [_paused]);\n\n  useEffect(() => {\n    if (!seeking && currentTime && duration) {\n      const percent = currentTime / duration;\n      const position = seekerWidth * percent;\n\n      setSeekerPosition(position);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentTime, duration, seekerWidth, setSeekerPosition]);\n\n  useEffect(() => {\n    if (showControls && !loading) {\n      animations.showControlAnimation();\n      setControlTimeout();\n      typeof events.onShowControls === 'function' && events.onShowControls();\n    } else {\n      animations.hideControlAnimation();\n      clearControlTimeout();\n      typeof events.onHideControls === 'function' && events.onHideControls();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showControls, loading]);\n\n  useEffect(() => {\n    setMuted(muted);\n  }, [muted]);\n\n  useEffect(() => {\n    const newVolume = volumePosition / volumeWidth;\n\n    if (newVolume <= 0) {\n      setMuted(true);\n    } else {\n      setMuted(false);\n    }\n\n    setVolume(newVolume);\n    setVolumeOffset(volumePosition);\n\n    const newVolumeTrackWidth = volumeWidth - volumeFillWidth;\n\n    if (newVolumeTrackWidth > 150) {\n      setVolumeTrackWidth(150);\n    } else {\n      setVolumeTrackWidth(newVolumeTrackWidth);\n    }\n  }, [volumeFillWidth, volumePosition]);\n\n  useEffect(() => {\n    const position = volumeWidth * _volume;\n    setVolumePosition(position);\n    setVolumeOffset(position);\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n      clearControlTimeout();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <PlatformSupport\n      showControls={showControls}\n      containerStyles={styles.containerStyle}\n      onScreenTouch={events.onScreenTouch}\n      testID={testID}>\n      <View style={[_styles.player.container, styles.containerStyle]}>\n        <Video\n          {...props}\n          {...events}\n          ref={videoRef || _videoRef}\n          resizeMode={_resizeMode}\n          volume={_volume}\n          paused={_paused}\n          muted={_muted}\n          rate={rate}\n          style={[_styles.player.video, styles.videoStyle]}\n          source={source}\n        />\n        {loading ? (\n          <Loader />\n        ) : (\n          <>\n            <Error error={error} />\n            {!disableOverlay && <Overlay animations={animations} />}\n            <TopControls\n              panHandlers={volumePanResponder.panHandlers}\n              animations={animations}\n              disableBack={disableBack}\n              disableVolume={disableVolume}\n              volumeFillWidth={volumeFillWidth}\n              volumeTrackWidth={volumeTrackWidth}\n              volumePosition={volumePosition}\n              onBack={events.onBack}\n              resetControlTimeout={resetControlTimeout}\n              showControls={showControls}\n            />\n            <PlayPause\n              animations={animations}\n              disablePlayPause={disablePlayPause}\n              disableSeekButtons={disableSeekButtons}\n              paused={_paused}\n              togglePlayPause={togglePlayPause}\n              resetControlTimeout={resetControlTimeout}\n              showControls={showControls}\n              onPressRewind={() =>\n                videoRef?.current?.seek(currentTime - rewindTime)\n              }\n              onPressForward={() =>\n                videoRef?.current?.seek(currentTime + rewindTime)\n              }\n            />\n            <BottomControls\n              animations={animations}\n              panHandlers={seekPanResponder.panHandlers}\n              disableTimer={disableTimer}\n              disableSeekbar={disableSeekbar}\n              showHours={showHours}\n              showDuration={showDuration}\n              paused={_paused}\n              showTimeRemaining={_showTimeRemaining}\n              currentTime={currentTime}\n              duration={duration}\n              seekColor={seekColor}\n              title={title}\n              toggleTimer={toggleTimer}\n              resetControlTimeout={resetControlTimeout}\n              seekerFillWidth={seekerFillWidth}\n              seekerPosition={seekerPosition}\n              setSeekerWidth={setSeekerWidth}\n              isFullscreen={isFullscreen}\n              disableFullscreen={disableFullscreen}\n              toggleFullscreen={toggleFullscreen}\n              showControls={showControls}\n            />\n          </>\n        )}\n      </View>\n    </PlatformSupport>\n  );\n};\n\nconst CustomAnimations = ({\n  useAnimations,\n  controlAnimationTiming = 450,\n  ...props\n}: WithRequiredProperty<VideoPlayerProps, 'useAnimations'>) => {\n  const animations = useAnimations(controlAnimationTiming);\n  return <AnimatedVideoPlayer animations={animations} {...props} />;\n};\n\nconst JSAnimations = (props: VideoPlayerProps) => {\n  const animations = useJSAnimations(props.controlAnimationTiming);\n\n  return <AnimatedVideoPlayer animations={animations} {...props} />;\n};\n\nexport const VideoPlayer = (props: Omit<VideoPlayerProps, 'animations'>) => {\n  if (props?.useAnimations) {\n    return <CustomAnimations useAnimations={props?.useAnimations} {...props} />;\n  }\n\n  return <JSAnimations {...props} />;\n};\n"]}